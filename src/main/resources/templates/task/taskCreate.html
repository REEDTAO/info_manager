<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AdminLTE 2 | Dashboard</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="/static/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/static/bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="/static/bower_components/Ionicons/css/ionicons.min.css">
    <!-- daterange picker -->
    <link rel="stylesheet" href="/static/bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap datepicker -->
    <link rel="stylesheet" href="/static/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <!-- iCheck for checkboxes and radio inputs -->
    <link rel="stylesheet" href="/static/plugins/iCheck/all.css">
    <!-- Bootstrap Color Picker -->
    <link rel="stylesheet" href="/static/bower_components/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css">
    <!-- Bootstrap time Picker -->
    <link rel="stylesheet" href="/static/plugins/timepicker/bootstrap-timepicker.min.css">
    <!-- Select2 -->
    <link rel="stylesheet" href="/static/bower_components/select2/dist/css/select2.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/static/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="/static/dist/css/skins/_all-skins.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

    <!--header include-->
    <div th:replace="~{public/header.html::header}"></div>
  <!-- Left side column. contains the logo and sidebar -->
    <div th:replace="~{public/aside.html::aside}"></div>

    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                任务
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> 任务</a></li>
                <li><a href="#">创建任务</a></li>
            </ol>
        </section>
        <section class="content">
            <div class="row">
                <!-- left column -->
                <div class="col-md-12">
                    <div class="box box-warning">
                        <div class="box-header with-border">
                            <h3 class="box-title">创建任务</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <form role="form" action="/task/create" method="post" enctype="multipart/form-data">
                                <!-- text input -->
                                <div class="form-group">
                                    <label>任务标题</label>
                                    <input  name="taskTitle" type="text" class="form-control" placeholder="请输入 ...">
                                </div>

                                <!-- textarea -->
                                <div class="form-group">
                                    <label>任务内容</label>
                                    <textarea name="taskContent" class="form-control" rows="3" placeholder="请输入 ..."></textarea>
                                </div>

                                <div class="form-group">
                                    <label>任务接收者</label>
                                    <select class="form-control select2" multiple="multiple" data-placeholder="没有可选择的接收对象，无法发布任务！"
                                            style="width: 100%;" th:if="${targetList == null}" disabled >
                                        <option th:each="target : ${targetList}" th:text="${target}"></option>
                                    </select>
                                    <select name="taskTargetGroupList" class="form-control select2" multiple="multiple" data-placeholder="选择接收对象"
                                            style="width: 100%;" th:if="${targetList != null}"  >
                                        <option th:each="target : ${targetList}" th:text="${target}"></option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>截止日期:</label>

                                    <div class="input-group date">
                                        <div class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                        <input name="taskEndTime" type="text" class="form-control pull-right" id="datepicker">
                                    </div>
                                    <!-- /.input group -->
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputFile">附件：</label>
                                    <input name="file" type="file" id="exampleInputFile">
                                </div>
                                <div class="box-footer">
                                    <button type="submit" class="btn btn-primary pull-right">发布</button>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- jQuery 3 -->
<script src="/static/bower_components/jquery/dist/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="/static/bower_components/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->


<!-- jQuery 3 -->
<script src="/static/bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="/static/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Select2 -->
<script src="/static/bower_components/select2/dist/js/select2.full.min.js"></script>
<!-- InputMask -->
<script src="/static/plugins/input-mask/jquery.inputmask.js"></script>
<script src="/static/plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="/static/plugins/input-mask/jquery.inputmask.extensions.js"></script>
<!-- date-range-picker -->
<script src="/static/bower_components/moment/min/moment.min.js"></script>
<script src="/static/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap datepicker -->
<script src="/static/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- bootstrap color picker -->
<script src="/static/bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
<!-- bootstrap time picker -->
<script src="/static/plugins/timepicker/bootstrap-timepicker.min.js"></script>
<!-- SlimScroll -->
<script src="/static/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- iCheck 1.0.1 -->
<script src="/static/plugins/iCheck/icheck.min.js"></script>
<!-- FastClick -->
<script src="/static/bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="/static/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/static/dist/js/demo.js"></script>

<script>
    $(function () {
        //Initialize Select2 Elements
        $('.select2').select2()

        //Date picker
        $('#datepicker').datepicker({
            autoclose: true
        })


    })
</script>


<script>

    $("#myCreateTask").addClass("active")
    $("#task").addClass("active")
    $("#createTask").addClass("active")
  $(document).ready(function() {



    $('#searchGroupTable').DataTable({
      'paging'      : true,//启用分页
      'lengthChange': false,
      'searching'   : false,
      'ordering'    : true,//排序
      'info'        : false,
      'autoWidth'   : true,

      "ajax": '',
      "columns": [
        { "data": "userGroupId" },
        { "data": "name" },
        { "data": "creatorName" },
        { "data": "joinUrl" }
      ]
    });
  } );

  function search() {
    if($('#searchName').val()!='') {
      var url = './searchGroup/' + $('#searchName').val();
      var table = $('#searchGroupTable').DataTable();
      table.ajax.url(url).load();
    }else{
      alert('请输入组名进行搜索！');
    }
  }
  function joinGroup(obj){
      $.get(obj.getAttribute("url"),function (data,status) {
          alert(data);
      });
  }
</script>

<script   th:inline="javascript" >
  var message = [[${message}]];
  if (message!=null) alert(message);
</script>
</body>
</html>
